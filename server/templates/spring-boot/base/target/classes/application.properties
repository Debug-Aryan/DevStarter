# ------------------------------------------------------------
# DevStarter Spring Boot Template Configuration
# ------------------------------------------------------------

# Server
server.port=${PORT:${SERVER_PORT:8080}}

# Database
# Use a JDBC URL in DATABASE_URL (recommended for deployment).
# For local dev, this defaults to in-memory H2.
spring.datasource.url=${DATABASE_URL:jdbc:h2:mem:devstarter;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE}
spring.datasource.username=${DB_USERNAME:}
spring.datasource.password=${DB_PASSWORD:}

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.format_sql=${HIBERNATE_FORMAT_SQL:false}

# H2 console (local convenience; disable in production)
spring.h2.console.enabled=${H2_CONSOLE_ENABLED:true}
spring.h2.console.path=/h2-console

# JWT
# JWT_SECRET is intentionally empty by default. If not provided, the app will generate
# a random secret at startup (tokens will become invalid after restart).
app.jwt.secret=${JWT_SECRET:}
app.jwt.expiration-ms=${JWT_EXPIRATION:86400000}

# CORS
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:5173}
app.cors.allowed-methods=${CORS_ALLOWED_METHODS:GET,POST,PUT,PATCH,DELETE,OPTIONS}
app.cors.allowed-headers=${CORS_ALLOWED_HEADERS:*}

# Logging
logging.level.root=${LOG_LEVEL_ROOT:INFO}
logging.level.org.springframework.security=${LOG_LEVEL_SECURITY:INFO}
